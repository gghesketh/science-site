{"version":3,"sources":["webpack:///./node_modules/core-js/modules/es7.object.entries.js","webpack:///./src/components/publications/sort-articles.js","webpack:///./node_modules/core-js/modules/_object-to-array.js","webpack:///./src/components/publications/list.js","webpack:///./src/components/publications/publications.js","webpack:///./src/components/publications/publications-container.js","webpack:///./src/pages/publications/index.js"],"names":["$export","$entries","S","entries","it","module","exports","articles","Object","reduce","accum","year","arr","sort","a","b","pmid","sortByYear","article","DESCRIPTORS","getKeys","toIObject","isEnum","f","isEntries","key","O","keys","length","i","result","call","push","formatItem","title","authors","numberOfAuthors","map","author","index","createAuthorSeparator","replace","formatTitle","journal","volume","issue","pages","formatPages","to","PublicationList","publications","yearOrder","Number","className","items","id","Publications","icon","faBook","size","PublicationsContainer","query","publicationsByYear","list","sortArticles","IndexPage"],"mappings":"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","file":"component---src-pages-publications-index-js-82a7fdc3c5baf3ae33e8.js","sourcesContent":["// https://github.com/tc39/proposal-object-values-entries\nvar $export = require('./_export');\nvar $entries = require('./_object-to-array')(true);\n\n$export($export.S, 'Object', {\n  entries: function entries(it) {\n    return $entries(it);\n  }\n});\n","const sortByYear = (articles) => (\n  Object.entries(articles).reduce((accum, [year, arr]) => ({\n    ...accum,\n    [year]: arr.sort((a, b) => (a.pmid < b.pmid ? 1 : -1)),\n  }), {})\n);\n\nconst sortArticles = (articles) => {\n  const articlesByYear = articles.reduce((accum, article) => {\n    if (accum[article.year]) {\n      return {\n        ...accum,\n        [article.year]: [\n          ...accum[article.year],\n          article,\n        ],\n      };\n    }\n    return {\n      ...accum,\n      [article.year]: [article],\n    };\n  }, {});\n\n  return sortByYear(articlesByYear);\n};\n\nmodule.exports = sortArticles;\n","var DESCRIPTORS = require('./_descriptors');\nvar getKeys = require('./_object-keys');\nvar toIObject = require('./_to-iobject');\nvar isEnum = require('./_object-pie').f;\nmodule.exports = function (isEntries) {\n  return function (it) {\n    var O = toIObject(it);\n    var keys = getKeys(O);\n    var length = keys.length;\n    var i = 0;\n    var result = [];\n    var key;\n    while (length > i) {\n      key = keys[i++];\n      if (!DESCRIPTORS || isEnum.call(O, key)) {\n        result.push(isEntries ? [key, O[key]] : O[key]);\n      }\n    }\n    return result;\n  };\n};\n","import PropTypes from 'prop-types';\nimport React, { Fragment } from 'react';\n\nimport Link from '../link/link';\n\nconst createAuthorSeparator = (index, numberOfAuthors) => {\n  if (numberOfAuthors === 1 || index === numberOfAuthors - 1) {\n    return '';\n  } if (index < numberOfAuthors - 2) {\n    return ', ';\n  }\n  return ' and ';\n};\n\nconst formatAuthors = (authors, title) => {\n  const numberOfAuthors = authors.length;\n  return authors.map((author, index) => {\n    return (\n      <Fragment key={`${author}-${title}`}>\n        {author}\n        {createAuthorSeparator(index, numberOfAuthors)}\n      </Fragment>\n    );\n  });\n};\n\nconst formatPages = (article) => {\n  if (article.volume && article.issue && article.pages) {\n    return `, ${article.volume}(${article.issue}): ${article.pages}`;\n  } if (article.volume && article.pages) {\n    return `, ${article.volume}: ${article.pages}`;\n  } if (article.pages) {\n    return `, ${article.pages}`;\n  }\n  return '';\n};\n\nconst formatTitle = (title) => title.replace(/&lt;.+?&gt;/g, '');\n\nconst formatItem = (article) => (\n  <li key={article.title}>\n    {formatAuthors(article.authors, article.title)}\n    .\n    {' '}\n    <strong>{formatTitle(article.title)}</strong>\n    {' '}\n    <em>{article.journal}</em>\n    .\n    {' '}\n    {article.year}\n    {formatPages(article)}\n    .\n    {' '}\n    <Link to={`https://www.ncbi.nlm.nih.gov/pubmed/${article.pmid}`}>\n      PMID:\n      {' '}\n      {article.pmid}\n    </Link>\n    .\n  </li>\n);\n\nconst PublicationList = ({\n  publications,\n}) => {\n  const yearOrder = Object.keys(publications).sort((a, b) => (Number(a) < Number(b) ? 1 : -1));\n\n  return (\n    <>\n      <div className=\"publications__links-year\">\n        {\n          yearOrder.map((year) => (\n            <Link\n              key={year}\n              to={`/publications/#${year}`}\n            >\n              {year}\n            </Link>\n          ))\n        }\n      </div>\n      {\n        yearOrder.map((year) => {\n          const items = publications[year].map((article) => formatItem(article));\n          return (\n            <div key={year}>\n              <h2 id={year}>{year}</h2>\n              <ul>{items}</ul>\n            </div>\n          );\n        })\n      }\n    </>\n  );\n};\n\nPublicationList.propTypes = {\n  publications: PropTypes.shape({}).isRequired,\n};\n\nexport default PublicationList;\n","import PropTypes from 'prop-types';\nimport React from 'react';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faBook } from '@fortawesome/free-solid-svg-icons';\n\nimport './publications.css';\nimport PublicationList from './list';\n\nconst Publications = ({ publications }) => (\n  <div className=\"publications\">\n    <section>\n      <header>\n        <h1>\n          Publications\n        </h1>\n        <FontAwesomeIcon icon={faBook} size=\"2x\" />\n      </header>\n      <PublicationList publications={publications} />\n    </section>\n  </div>\n);\n\nPublications.propTypes = {\n  publications: PropTypes.shape({}).isRequired,\n};\n\nexport default Publications;\n","import React from 'react';\nimport { useStaticQuery, graphql } from 'gatsby';\n\nimport Publications from './publications';\n\nimport sortArticles from './sort-articles';\n\nconst PublicationsContainer = () => {\n  const query = useStaticQuery(\n    graphql`\n      query {\n        publications(list: {elemMatch: {title: {regex: \"/.*/\"}}}) {\n          list{\n            authors\n            journal\n            issue\n            pages\n            pmid\n            title\n            volume\n            year\n          }\n        }\n      }\n    `,\n  );\n\n  const publicationsByYear = query.publications && query.publications.list.length > 0\n    ? sortArticles(query.publications.list)\n    : null;\n\n  return (\n    publicationsByYear\n    && <Publications publications={publicationsByYear} />\n  );\n};\n\nexport default PublicationsContainer;\n","import React from 'react';\n\nimport Layout from '../../components/layout/layout';\nimport Publications from '../../components/publications/publications-container';\nimport SEO from '../../components/seo/seo';\n\nconst IndexPage = () => (\n  <Layout>\n    <SEO title=\"Publications\" />\n    <Publications />\n  </Layout>\n);\n\nexport default IndexPage;\n"],"sourceRoot":""}